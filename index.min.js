"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=diffhook;var _xmlhttprequest=require("xmlhttprequest"),lastResponse=null,gotResponse=!0,timer=null;function detectChange(a,b,c){null!=c&&(console.log(c),b(lastResponse,a)),null==lastResponse?lastResponse=a:a!=lastResponse&&(b(lastResponse,a),lastResponse=a)}function makeRequest(a,b,c){if(gotResponse){var d=new _xmlhttprequest.XMLHttpRequest;d.open("GET",a,!0),d.onreadystatechange=function(){4==d.readyState&&(200==d.status?detectChange(d.responseText,b,c):console.error("Error: "+d.statusText),gotResponse=!0)},gotResponse=!1,d.send()}}function diffhook(a,b,c,d){var e=setInterval(function(){makeRequest(a,c,d)},b);return e}
